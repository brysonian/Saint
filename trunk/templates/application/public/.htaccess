# add a type for Saint's .cache files.
AddType text/html .cache

RewriteEngine On
RewriteBase /


### any slash, followed by a "_" , do nothing, and stop.
RewriteRule  ^/_ [L]

### same with favicon
RewriteRule  ^/favicon.ico [L]

### if the requested item exists, use it.
RewriteCond %{REQUEST_FILENAME} -f
RewriteRule ^(.+)	$1 [L]

### if {requested item}.cache exists, use that
RewriteCond %{REQUEST_FILENAME}.cache -f
RewriteRule ^(.+)	$1.cache [L]

### if {requested item}.php exists, use that
RewriteCond %{REQUEST_FILENAME}.php -f
RewriteRule ^(.+)	$1.php [L]

### if {requested item}.html exists, use that
RewriteCond %{REQUEST_FILENAME}.html -f
RewriteRule ^(.+)	$1.html [L]

### if {requested item}/index.cache exists, use that
RewriteCond %{REQUEST_FILENAME}/index.cache -f
RewriteRule ^(.+)	$1/index.cache [L]

### if {requested item}/index.php exists, use that
RewriteCond %{REQUEST_FILENAME}/index.php -f
RewriteRule ^(.+)	$1/index.php [L]

### if {requested item}/index.html exists, use that
RewriteCond %{REQUEST_FILENAME}/index.html -f
RewriteRule ^(.+)	$1/index.html [L]


RewriteRule ^(.*)$ dispatcher.php?%{QUERY_STRING} [T=application/x-httpd-php,L]
